'use strict';
const axios = require('axios');
const { makeEmbed } = require('../custom_node_modules/utils.js');
//used for many of the fun functions to interact with the gltichapi website
const glitchApi = async (returnResponse, endpoint, label, image) => {
  const baseurl = 'https://and-here-is-my-code.glitch.me/';
  const response = await axios.get(baseurl + endpoint).catch(e => {
    //
  });
  let picture, des, returnVal;
  if (image) {
    picture = response?.data?.Link;
    des = `ğŸ¤£`;
  } else {
    picture = undefined;
    des = response?.data?.Link;
  }
  if (returnResponse) {
    returnVal = response;
  } else {
    returnVal = makeEmbed(label, des, undefined, undefined, picture);
  }
  return returnVal;
};

exports.glitchApi = glitchApi;
